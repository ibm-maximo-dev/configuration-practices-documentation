{"componentChunkName":"component---src-pages-update-app-saved-query-mdx","path":"/update-app-saved-query/","result":{"pageContext":{"frontmatter":{"title":"Change or replace apps’ saved queries"},"relativePagePath":"/update-app-saved-query.mdx","titleType":"append","MdxNode":{"id":"5ac171cc-ad85-5fbd-b906-7f37de9a9cb6","children":[],"parent":"acfed9a6-976f-511e-a5e3-2c421757611f","internal":{"content":"---\ntitle: Change or replace apps’ saved queries\n---\n\n## About this task\n\nThis guide explains how to change a query and modify its structure, with the possibility of extending a query to a specific scenario\n\n## Procedure\n\n### Step 1: In the app.xml file, locate the datasource to be modified. In this example, we will use the Technician application. Search for the datasource which id=\"dsworktype\".\n\n```xml\n  <maximo-datasource id=\"dsworktype\" offline-immediate-download=\"true\" selection-mode=\"single\" saved-query=\"WOWORKTYPE\" lookup-data=\"true\" pre-load=\"true\" object-structure=\"mxapiworktype\" page-size=\"100\">\n    <schema id=\"b2rkz\">\n        <attribute name=\"worktype\" searchable=\"true\" unique-id=\"true\" id=\"rrpez\"/>\n        <attribute name=\"wtypedesc\" searchable=\"true\" id=\"w5_zm\"/>\n        <attribute name=\"woclass\" searchable=\"true\" id=\"b8w9r\"/>\n        <attribute name=\"orgid\" searchable=\"true\" id=\"b_jdj\"/>\n        <attribute name=\"promptdown\" id=\"n_5q4\"/>\n        <attribute name=\"startstatus\" id=\"vm3ke\"/>\n        <attribute name=\"completestatus\" id=\"a5yen\"/>\n    </schema>\n    <maximo-datasource-override id=\"workTypeFilterDS\" selection-mode=\"multiple\"/>\n  </maximo-datasource>\n```\n\n### Step 2: Additionally, this datasource identifies a saved query (WOWORKTYPE) linked to the object structure named MXAPIWORKTYPE. In the object structure application, you can view/manage this query. If you change the ‘Query Definition’, this will change the work type data that is made available to the Technician application and any other application or client API that is using this saved query.\n\n![Query definition](assets/query-definition-update.png)\n\n### Step 3: (Optional): You can also extend a saved query by adding a ‘where=’ clause in the datasource as shown below (instead of changing the query itself, which could be used by many applications). This will ‘append’ to the saved query.\n\n```xml\n  <maximo-datasource-override id=\"pmduewolistDS\" saved-query=\"PMWOLIST\" where=\"schedfinish>=&quot;&amp;SYSDAY&amp;&quot; and schedfinish<=&quot;&amp;SYSDAY&amp;+7D&quot;\" mobile-qbe-filter=\"{{'status_maxvalue': '!=COMP,CAN,CLOSE,WAPPR'}}\" offline-immediate-download=\"true\"/>\n```","type":"Mdx","contentDigest":"44010be98aa98dd39c1e7a04a01c66d4","owner":"gatsby-plugin-mdx","counter":80},"frontmatter":{"title":"Change or replace apps’ saved queries"},"exports":{},"rawBody":"---\ntitle: Change or replace apps’ saved queries\n---\n\n## About this task\n\nThis guide explains how to change a query and modify its structure, with the possibility of extending a query to a specific scenario\n\n## Procedure\n\n### Step 1: In the app.xml file, locate the datasource to be modified. In this example, we will use the Technician application. Search for the datasource which id=\"dsworktype\".\n\n```xml\n  <maximo-datasource id=\"dsworktype\" offline-immediate-download=\"true\" selection-mode=\"single\" saved-query=\"WOWORKTYPE\" lookup-data=\"true\" pre-load=\"true\" object-structure=\"mxapiworktype\" page-size=\"100\">\n    <schema id=\"b2rkz\">\n        <attribute name=\"worktype\" searchable=\"true\" unique-id=\"true\" id=\"rrpez\"/>\n        <attribute name=\"wtypedesc\" searchable=\"true\" id=\"w5_zm\"/>\n        <attribute name=\"woclass\" searchable=\"true\" id=\"b8w9r\"/>\n        <attribute name=\"orgid\" searchable=\"true\" id=\"b_jdj\"/>\n        <attribute name=\"promptdown\" id=\"n_5q4\"/>\n        <attribute name=\"startstatus\" id=\"vm3ke\"/>\n        <attribute name=\"completestatus\" id=\"a5yen\"/>\n    </schema>\n    <maximo-datasource-override id=\"workTypeFilterDS\" selection-mode=\"multiple\"/>\n  </maximo-datasource>\n```\n\n### Step 2: Additionally, this datasource identifies a saved query (WOWORKTYPE) linked to the object structure named MXAPIWORKTYPE. In the object structure application, you can view/manage this query. If you change the ‘Query Definition’, this will change the work type data that is made available to the Technician application and any other application or client API that is using this saved query.\n\n![Query definition](assets/query-definition-update.png)\n\n### Step 3: (Optional): You can also extend a saved query by adding a ‘where=’ clause in the datasource as shown below (instead of changing the query itself, which could be used by many applications). This will ‘append’ to the saved query.\n\n```xml\n  <maximo-datasource-override id=\"pmduewolistDS\" saved-query=\"PMWOLIST\" where=\"schedfinish>=&quot;&amp;SYSDAY&amp;&quot; and schedfinish<=&quot;&amp;SYSDAY&amp;+7D&quot;\" mobile-qbe-filter=\"{{'status_maxvalue': '!=COMP,CAN,CLOSE,WAPPR'}}\" offline-immediate-download=\"true\"/>\n```","fileAbsolutePath":"/home/travis/build/maximo-app-framework/configuration-practices-documentation/src/pages/update-app-saved-query.mdx"}}},"staticQueryHashes":["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}