{"componentChunkName":"component---src-pages-set-default-values-new-wo-mdx","path":"/set-default-values-new-wo/","result":{"pageContext":{"frontmatter":{"title":"Set default values to fields when creating new and follow-up work orders"},"relativePagePath":"/set-default-values-new-wo.mdx","titleType":"append","MdxNode":{"id":"030bb6fb-019a-52f0-a55b-52ecfbec0d49","children":[],"parent":"df436976-a9bd-5703-aa02-084c66ec3240","internal":{"content":"---\ntitle: Set default values to fields when creating new and follow-up work orders\n---\n\n## About this task\n\nSet default values for fields on new work orders and follow-up work orders. This exercise guides you through defining priority = 1\nand work type = CM (Correction Maintenance) when creating new and follow-up work orders.\nAll steps are done within the AppCustomizations.js file.\n\n## Procedure\n\n### Step 1: Create constants that indicate the default values for priority and work type. Avoid inserting static values directly into the code to facilitate changes, readability, and tracking.\n\n```js\nconst DEFAULT_WORKTYPE = 'CM';\nconst DEFAULT_WORKPRIORITY = 1;\n```\n\n### Step 2: Create conditions inside the page summary handler method (pageResumed) to set the default values.\n\n```js\n  pageResumed(page, app) {\n    // Check creation of Follow-up Work\n    if (app.currentPage.name === 'woedit' &&  page.name=== 'woedit' && page?.params?.followup) {\n      if (page?.params?.workorder) {\n        // Replace workorder attribute from URL params\n        page.params.workorder.worktype = DEFAULT_WORKTYPE;\n        page.params.workorder.wopriority = DEFAULT_WORKPRIORITY;\n      }\n    }\n  }\n```\n\n### Step 3: nclude the new record creation event handler to datasource. Include conditions to identify the correct datasource - in this case “dsCreateWo”. To create new records, use properties from the DS schema, this avoids conflicts with other code that is\ndefining the same property.\n\n```js\n  /**\n   * Add new record handler\n   * @param {Object} object\n   * @param {Datasource} obj.datasource\n   */\n  onAddNewRecord({datasource, item}) {\n    // Set default values for schema dsCreateWo when creating Work Order\n    if (datasource?.name === 'dsCreateWo' && datasource?.schema) {\n      datasource.schema.properties.worktype.defaultValue = DEFAULT_WORKTYPE;\n      datasource.schema.properties.wopriority.defaultValue = DEFAULT_WORKPRIORITY;\n    }\n  }\n```","type":"Mdx","contentDigest":"aafd6ae4f62bed50e21e93daf82c8a64","owner":"gatsby-plugin-mdx","counter":78},"frontmatter":{"title":"Set default values to fields when creating new and follow-up work orders"},"exports":{},"rawBody":"---\ntitle: Set default values to fields when creating new and follow-up work orders\n---\n\n## About this task\n\nSet default values for fields on new work orders and follow-up work orders. This exercise guides you through defining priority = 1\nand work type = CM (Correction Maintenance) when creating new and follow-up work orders.\nAll steps are done within the AppCustomizations.js file.\n\n## Procedure\n\n### Step 1: Create constants that indicate the default values for priority and work type. Avoid inserting static values directly into the code to facilitate changes, readability, and tracking.\n\n```js\nconst DEFAULT_WORKTYPE = 'CM';\nconst DEFAULT_WORKPRIORITY = 1;\n```\n\n### Step 2: Create conditions inside the page summary handler method (pageResumed) to set the default values.\n\n```js\n  pageResumed(page, app) {\n    // Check creation of Follow-up Work\n    if (app.currentPage.name === 'woedit' &&  page.name=== 'woedit' && page?.params?.followup) {\n      if (page?.params?.workorder) {\n        // Replace workorder attribute from URL params\n        page.params.workorder.worktype = DEFAULT_WORKTYPE;\n        page.params.workorder.wopriority = DEFAULT_WORKPRIORITY;\n      }\n    }\n  }\n```\n\n### Step 3: nclude the new record creation event handler to datasource. Include conditions to identify the correct datasource - in this case “dsCreateWo”. To create new records, use properties from the DS schema, this avoids conflicts with other code that is\ndefining the same property.\n\n```js\n  /**\n   * Add new record handler\n   * @param {Object} object\n   * @param {Datasource} obj.datasource\n   */\n  onAddNewRecord({datasource, item}) {\n    // Set default values for schema dsCreateWo when creating Work Order\n    if (datasource?.name === 'dsCreateWo' && datasource?.schema) {\n      datasource.schema.properties.worktype.defaultValue = DEFAULT_WORKTYPE;\n      datasource.schema.properties.wopriority.defaultValue = DEFAULT_WORKPRIORITY;\n    }\n  }\n```","fileAbsolutePath":"/home/travis/build/maximo-app-framework/configuration-practices-documentation/src/pages/set-default-values-new-wo.mdx"}}},"staticQueryHashes":["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}